<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<mata name="keywords" content="优购网,优购时尚商城,优购网上鞋城"></mata>
		<mata name="discription" content="优购网-时尚服饰鞋包网购首选,经营耐克、阿迪达斯、Kappa、匡威、百丽、他她、天美意、森达等众多知名品牌,100%专柜正品,免费送货,10天退换货,提供愉悦购物体验!"></mata>
		<title>优购时尚商城-时尚服饰鞋包网购首选-优生活，购时尚！</title>
		<link rel="Shortcut Icon" href="img/title.png">
		<link rel="stylesheet" type="text/css" href="css/public.css"/>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/brand.css"/>
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<script type="text/javascript" src="js/data.js"></script>
		<script type="text/javascript" src="js/jquery.js" defer></script>
	</head>
	<body>
		<div class="last">
			<!-- 头部 -->
			<header>
				<div class="content">
					<ul class="h_left">
						<li>
							<a href="">关注</a>
							<div class="img">
								<div>
									<img src="img/footer6.jpg" alt="">
								</div>
								<p>关注公众号</p>
							</div>
						</li>
						<li>
							<a href="">下载app</a>
							<div class="img">
								<div>
									<img src="img/footer5.png" alt="">
								</div>
								<p>下载优购APP</p>
							</div>
						</li>
					</ul>
					<ul class="h_right">
						<li id="login">
							<!-- <a href="reg.html">登录 /</a>
							<a href="login.html"> 注册</a> -->
						</li>
						<li>
							<a href="">
								<span class="iconfont icon-shoucang"></span>
								收藏
							</a>
						</li>
						<li id="shop">
							<!-- <a href="javascript:;">
								<span class="iconfont icon-gouwudai"></span>
								购物袋
							</a> -->
						</li>
						<li>
							<a href="javascript:;">
								公告
							</a>
						</li>
					</ul>
				</div>
			</header>
			<!-- 导航 -->
			<nav>
				<!-- logo -->
				<h1>
					<a href="">
						<img src="img/logo.png" alt="">
					</a>
				</h1>
				<!-- nav -->
				<div class="nav" id="nav">
					<ul class="n_left">
						<li>
							<a href="">首页</a>
						</li>
						<li>
							<a href="">女鞋</a>
						</li>
						<li>
							<a href="">男鞋</a>
						</li>
						<li>
							<a href="">运动</a>
						</li>
						<li>
							<a href="">户外</a>
						</li>
						<li>
							<a href="">儿童</a>
						</li>
						<li>
							<a href="">箱包</a>
						</li>
					</ul>
					<div class="n_right">
						<input type="" name="" id="" value="" />
						<span class="iconfont icon-fangdajing"></span>
					</div>
					
				</div>
				<div class="nav-fixde" id="nav-fixde">
					<div class="nav">
						<div class="img">
							<img src="img/logo.png">
						</div>
						<ul class="n_left">
							<li>
								<a href="">首页</a>
							</li>
							<li>
								<a href="">女鞋</a>
							</li>
							<li>
								<a href="">男鞋</a>
							</li>
							<li>
								<a href="">运动</a>
							</li>
							<li>
								<a href="">户外</a>
							</li>
							<li>
								<a href="">儿童</a>
							</li>
							<li>
								<a href="">箱包</a>
							</li>
						</ul>
						<div class="n_right">
							<input type="" name="" id="" value="" />
							<span class="iconfont icon-fangdajing"></span>
						</div>
					</div>
					<div class="down-fixde" id="down-fixde">
						<div class="content-fixde" id="content-fixde">
						
						</div>
					</div>
				</div>
			    <div class="down" id="down">
					<div class="content" id="content">
					
					</div>
			    </div>
			</nav>
			<!-- 副级导航 -->
			
			<div class="small-nav" id="smallNav">
				<p>首页 > </p>
			</div>
			<!-- 商品内容 -->
		    <div class="commodity">
				<div class="commodity-left" id="left">
					<p>共 ><span>1256</span>个结果</p>
					<div class="content" id="content1">
						<ul>
						
					    </ul>
						<div class="scroll" id="scroll">
							<div class="block"></div>
						</div>
					</div>
					
				</div>
				<div class="commodity-left1" id="left1">
					<p>共 ><span>1256</span>个结果</p>
					<div class="content" id="content2">
						<ul>
						
					    </ul>
						<div class="scroll" id="scroll1">
							<div class="block"></div>
						</div>
					</div>
					
				</div>
				<div class="commodity-right">
					<div class="content">
						<div class="brand" id="brand">
							<!-- <div class="logo">
								<img src="http:////i1.ygimg.cn/pics/brandlogo/brandlogforcms/blackS-belle.png" alt=""><span>百丽</span>
							</div>
							<img src="//i1.ygimg.cn/pics/shop/seoul/PCpin_pai_gu_shi/2019qiu/bai_li_.jpg" alt="">
							<p>BeLLE（百丽），百变所以美丽。主张多变多元的新生代态度，不断融合潮流趋势，拥抱不同的生活体验与生活经历。将女性的百变魅力注入到鞋履设计中，让女人在不同的人生阶段，不同的场合，不同的潮流趋势下，尽显自己自信的一面。致力于为现代都市女性提供充满自由的行走体验。</p> -->
						</div>
						<div class="top">
							<ul>
								<li><a href="">新品</a></li>
								<li><a href="">热销</a></li>
								<li><a href="">推荐</a></li>
								<li><a href="">价格</a></li>
								<li><a href="">折扣</a></li>
							</ul>
							<p><span>1</span>-<span>333</span>页/<a href="">下一页&gt;</a></p>
						</div>
						<div class="goods" id="goods">
							<ul>
								
							</ul>
						</div>
						<div class="page" id="page">
							<button>&lt;上一页</button>
							<span id="fy">
								<!-- <a href="" class="action">1</a>
							<a href="">2</a> -->
							</span>
							
							
							<button href="">下一页&gt;</button>
						</div>
						
					</div>
				</div>
			</div>
			<footer>
				<div class="top">
					<ul>
						<li>
							<span></span>
							<a href="">正品保证</a>
						</li>
						<li>
							<span></span>
							<a href="">10天退换货</a>
						</li>
						<li>
							<span></span>
							<a href="">10天调补差价额</a>
						</li>
						<li>
							<span></span>
							<a href="">09:00 - 21:00在线客服</a>
						</li>
					</ul>
				</div>
				<div class="center">
					<div class="list">
						<ul>
							<h5>新手帮助</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">交易条款协议</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">注册新用户</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">会员积分详情</a>
							</li>
						</ul>
					</div>
					<div class="list">
						<ul>
							<h5>购物指南</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">订购流程</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">验货与签收</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">订单配送</a>
							</li>
						</ul>
					</div>
					<div class="list">
						<ul>
							<h5>支付/配送</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">支付方式</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">配送方式</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">配送时间及运费</a>
							</li>
						</ul>
					</div>
					<div class="list">
						<ul>
							<h5>售后服务</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">退换货政策</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">退款说明</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">发票制度</a>
							</li>
						</ul>
					</div>
					<div class="list">
						<ul>
							<h5>会员服务</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">找回密码</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">联系我们</a>
							</li>
						</ul>
					</div>
					<div class="list">
						<ul>
							<h5>优购客服</h5>
							<li>
								<a href="https://www.yougou.com/help/agreement.shtml">在线咨询</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">Email: ygservice@belle.com.cn</a>
							</li>
							<li>
							    <a href="https://www.yougou.com/help/agreement.shtml">微信客服：优购时尚商城</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="center2">
					<ul>
						<li>
							<a href="#">
								<img src="img/footer1.png" alt="">
							</a>
						</li>
						<li>
							<a href="#">
								<img src="img/footer2.png" alt="">
							</a>
						</li>
						<li>
							<a href="#">
								<img src="img/footer3.jpg" alt="">
							</a>
						</li>
						<li>
							<a href="#">
								<img src="img/footer4.png" alt="">
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<div>
								<img src="img/footer5.png" alt="">
							</div>
						    
							<p>扫描下载手机客户端</p>
						</li>
						
						<li>
							<div>
								<img src="img/footer6.jpg" alt="">
							</div>
							<p>关注公众号</p>
						</li>
					</ul>
				</div>
				<div class="foot">
					<div class="content1">
						<ul>
							<li>
								<a href="">关于优购</a>
							</li>
							<li>
								<a href="">集团采购</a>
							</li>
							<li>
								<a href="">招贤纳士</a>
							</li>
							<li>
								<a href="">手机优购</a>
							</li>
							<li>
								<a href="">联系我们</a>
							</li>
							<li>
								<a href="">友情链接</a>
							</li>
						</ul>
					</div>
					<div class="content2">
						<p>Copyright © 2011-2016 Yougou Technology Co., <a href="">粤ICP备09070608号-4</a>增值电信业务经营许可证：<a href="">粤B2-20190636</a>深公网安备：4403101910665 </p>
					</div>
				</div>
			</footer>
		</div>
		<script type="text/javascript" src="js/public.js"></script>
	    <script type="text/javascript">
			
	    	var smallNav = document.getElementById('smallNav');
			var search = window.location.search.split('=')[1];
			var hash = window.location.hash.split('#')[1];
			//商品左侧
			left('left','content1','scroll');
			//滚动后才出现的左侧栏
			left('left1','content2','scroll1');
			
			var left = document.getElementById('left');
			var left1 = document.getElementById('left1');
			var nav = document.getElementById('nav');
			
			window.onscroll = function(ev){
				var top = nav.getBoundingClientRect().top;
				if(top<0){
					left1.style.display = 'block';
					left.style.display = 'none';
				}else{
					left1.style.display = 'none';
					left.style.display = 'block';
				}
				
			}
			
			function left(parent,content,scroll){
				var left = document.getElementById(parent);
				var lis = left.getElementsByTagName('li');
				var ul = left.getElementsByTagName('ul')[0];
				for(var i=0;i<Data.length;i++){
					if(Data[i].name == search){
						//副级导航
						smallNav.children[0].innerHTML = '首页 > '+ Data[i].title;
						//数据渲染
						var data = Data[i].msg;
						for(var i=0;i<data.length;i++){
							var li = document.createElement('li');
						    li.innerHTML = '<a href="javascript:;"><i class="left"></i>'+data[i].title+'</a>';
							var str = '';
							//console.log(data[i].content);
							str += '<a href="javascript:;"><i class="left"></i>'+data[i].title+'</a><dl>';
							for(var j=0;j<data[i].content.length;j++){
								str += '<dt><a href="">'+ data[i].content[j] +'</a></dt>';
							}
							str += '</dl>';
							li.innerHTML = str;
							ul.appendChild(li)
						}
					}
				}
				//侧边栏点击(下拉列表及滚动条)
				var content1 = document.getElementById(content);
				var Fheight = ul.offsetHeight;
				var scroll = document.getElementById(scroll);
				scroll.style.height = parseInt(getComputedStyle(content1).height)-2 + 'px';
				for(var i=0;i<lis.length;i++){
					lis[i].onclick = function(){
						var i = this.getElementsByTagName('i')[0];
						var dl = this.getElementsByTagName('dl')[0];
						var iClass = i.className;
						if(iClass == 'left'){
							i.className = 'top';
							dl.style.display = 'block';
						}else if(iClass == 'top'){
							i.className = 'left';
							dl.style.display = 'none';
						}
						
						var Cheight = content1.offsetHeight;
						var Uheight = ul.offsetHeight;
						
						if(Uheight>Cheight){
							scroll.style.display = 'block';
							
						}else{
							scroll.style.display = 'none';
						}
						
					}
				}
				//滚动条
				var block = scroll.getElementsByTagName('div')[0];
				var num = 0;
				var ulHei = parseInt(getComputedStyle(content1).height);
				//拖动
				block.onmousedown = function(event){
					event = event || window.event;
					var mousey =  event.pageY;
					var blky = block.offsetTop;
					var scrollH = scroll.offsetHeight-50;
					
					document.onmousemove = function(event){
						var Mmousey =  event.pageY;
						var H = (Mmousey-mousey)+blky
						if(H<0){
							H = 0;
						}else if(H>scrollH){
							H = scrollH;
						}
						block.style.top = H + 'px';
						num = H;
						BL = H/scrollH;
						var ulH = ul.offsetHeight - ulHei;
						console.log(ul.offsetHeight,ulHei);
						ul.style.top = -BL*ulH + 'px';
						
					}
				}
				document.onmouseup = function(){
						document.onmousemove = '';
				}
				
				//滚轮
				content1.addEventListener('wheel',function(event){
					event.preventDefault();
					var scrollH = scroll.offsetHeight-50;
					
					if(event.wheelDelta>0){
						//向上滚动
						num -= 10;
						if(num<0){
							num = 0;
						}else if(num>scrollH){
							num = scrollH;
						}
						block.style.top = num + 'px';
					}else{
						//向下滚动
						num += 10;
						if(num<0){
							num = 0;
						}else if(num>scrollH){
							num = scrollH;
						}
						block.style.top = num + 'px';
					}
					var BL = num/scrollH;
					var ulH = ul.offsetHeight - ulHei;
					ul.style.top = -BL*ulH + 'px';
					
				});
			}
			
			
			
			
			//移入商品时小星星出现
			var goods = document.getElementById('goods');
			var goods_lis = goods.getElementsByTagName('li');
			for(var i=0;i<goods_lis.length;i++){
				goods_lis[i].onmouseenter = function(){
					var b = this.getElementsByTagName('b')[0];
					b.style.display = 'block';
				}
				goods_lis[i].onmouseleave = function(){
					var b = this.getElementsByTagName('b')[0];
					b.style.display = 'none';
				}
			}
			
			
			//右侧渲染
			var page_ul = goods.getElementsByTagName('ul')[0]; 
			var data_arr = [];
			for(var i=0;i<Data.length;i++){
				if(Data[i].name == search){
			       for(var k=0;k<Data[i].list.length;k++){
					    //拿到每一个分类里的商品列表
						var classify = Data[i].list[k].classify;
						for(var j=0;j<classify.length;j++){
							for(var arr in classify[j]){
								var page = classify[j][arr].page;
								if(page == hash){
									var commodity = classify[j][arr].commodity;
									//渲染品牌信息
									var brand = document.getElementById('brand');
									brand.innerHTML = `<div class="logo">
															<img src="${classify[j][arr].logo}" alt=""><span>${classify[j][arr].title}</span>
														</div>
														<img src="${classify[j][arr].img}" alt="">
														<p>${classify[j][arr].introduce}</p>`;
									for(var n=0;n<commodity.length;n++){
										//数组里面有数据就push到data_arr
										if(commodity[n].img){
											data_arr.push(commodity[n]);
										}
									}
								}
							}
						}

			         }
				
				} 
			}
			
			
			var page = document.getElementById('page');
			var fy = document.getElementById('fy');
			//渲染分页器
			var pageMath = Math.ceil(data_arr.length/16) ;
			var math = 1;
			var pg = '';
			while(math<=pageMath){
				//alert()
				pg += '<a href="javascript:;">'+math+'</a>';
				math++
			}
			fy.innerHTML = pg;
			//渲染商品
			setPage(1);
			var page_oA = fy.getElementsByTagName('a');
			 for(var i=0;i<page_oA.length;i++){
			  	if(i==0){
			  		page_oA[i].className = 'action';
			  	}
				page_oA[i].onclick = function(){
					for(var i=0;i<page_oA.length;i++){
						page_oA[i].className = '';
					}
					this.className = 'action';
					var pageNum = this.innerHTML;
					setPage(pageNum)
					
				}
			}
			console.log(page_oA.length);
			//封装页面渲染函数
			
				
	    </script>
	</body>
</html>
